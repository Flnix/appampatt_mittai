{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import Button from\"react-bootstrap/Button\";import{Link}from\"react-router-dom\";import ProductsCard from\"./ProductsCard\";import\"./Stylings/Products.css\";import NavBar from\"./NavBar\";import ContactCard from\"./ContactCard\";import Tab from\"react-bootstrap/Tab\";import Tabs from\"react-bootstrap/Tabs\";import CurrentOffers from\"./CurrentOffers\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Shop(_ref){let{products,quantities,handleAddToCart,currentOffers}=_ref;const[totalPrice,setTotalPrice]=useState(0);const[activeTab,setActiveTab]=useState(\"All Products\");const[contentHeight,setContentHeight]=useState(null);// State to store dynamic height\nconst allProductsRef=useRef(null);// Ref to \"All Products\" content\nconst handleQuantityChange=(productId,quantity)=>{handleAddToCart(productId,quantity);};// Calculate total price whenever products or quantities change\nuseEffect(()=>{const total=products.reduce((sum,product)=>{const quantity=quantities[product.id]||0;return quantity>0?sum+product.price*quantity:sum;},0);setTotalPrice(total);},[products,quantities]);// Calculate the height of the \"All Products\" tab content\nuseEffect(()=>{if(allProductsRef.current){const height=allProductsRef.current.offsetHeight;setContentHeight(height);// Set the height for both tabs\n}},[products,quantities]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light mt-5 pt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4 bg-white p-2 text-warning abouttitle DancingScript\",children:\"Order Now\"}),/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:k=>setActiveTab(k),id:\"controlled-tab-example\",className:\"justify-content-center custom-tabs\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"All Products\",title:\"All Products\",children:/*#__PURE__*/_jsx(\"div\",{ref:allProductsRef// Attach the ref to capture height\n,className:\"tab-content-wrapper\",style:{minHeight:contentHeight?`${contentHeight}px`:\"auto\"}// Apply dynamic height\n,children:/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"d-flex flex-column justify-content-start align-items-center mt-4\",children:[/*#__PURE__*/_jsx(CurrentOffers,{quantities:quantities,currentOffers:currentOffers,handleQuantityChange:handleQuantityChange}),/*#__PURE__*/_jsx(Container,{fluid:true,className:\"d-flex flex-column justify-content-start align-items-center mt-4\",children:/*#__PURE__*/_jsx(Container,{className:\"py-3\",style:{maxWidth:\"600px\",paddingBottom:\"0\"},children:/*#__PURE__*/_jsx(Row,{className:\"g-2 justify-content-center\",children:products.slice(2).map(product=>/*#__PURE__*/_jsx(Col,{xs:6,md:4,className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(ProductsCard,{product:product,handleQuantityChange:handleQuantityChange,quantity:quantities[product.id]||0})},product.id))})})})]})})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"Current Offers\",title:\"Current Offers\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tab-content-wrapper\",style:{minHeight:contentHeight?`${contentHeight}px`:\"auto\"}// Apply the same dynamic height\n,children:/*#__PURE__*/_jsx(CurrentOffers,{quantities:quantities,currentOffers:currentOffers,handleQuantityChange:handleQuantityChange})})})]}),totalPrice>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-overlay\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"total-price\",children:[\"Total: \\u20B9\",totalPrice.toFixed(2)]}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(Button,{variant:\"success\",className:\"show-cart-button\",children:\"Show Cart\"})})]}),/*#__PURE__*/_jsx(ContactCard,{})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","Container","Row","Col","Button","Link","ProductsCard","NavBar","ContactCard","Tab","Tabs","CurrentOffers","jsx","_jsx","jsxs","_jsxs","Shop","_ref","products","quantities","handleAddToCart","currentOffers","totalPrice","setTotalPrice","activeTab","setActiveTab","contentHeight","setContentHeight","allProductsRef","handleQuantityChange","productId","quantity","total","reduce","sum","product","id","price","current","height","offsetHeight","className","children","activeKey","onSelect","k","eventKey","title","ref","style","minHeight","fluid","maxWidth","paddingBottom","slice","map","xs","md","toFixed","to","variant"],"sources":["/workspaces/appampatt_mittai/src/Components/Shop.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport ProductsCard from \"./ProductsCard\";\nimport \"./Stylings/Products.css\";\nimport NavBar from \"./NavBar\";\nimport ContactCard from \"./ContactCard\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport CurrentOffers from \"./CurrentOffers\";\n\nexport default function Shop({ products, quantities, handleAddToCart, currentOffers }) {\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [activeTab, setActiveTab] = useState(\"All Products\");\n  const [contentHeight, setContentHeight] = useState(null); // State to store dynamic height\n  const allProductsRef = useRef(null); // Ref to \"All Products\" content\n\n  const handleQuantityChange = (productId, quantity) => {\n    handleAddToCart(productId, quantity);\n  };\n\n  // Calculate total price whenever products or quantities change\n  useEffect(() => {\n    const total = products.reduce((sum, product) => {\n      const quantity = quantities[product.id] || 0;\n      return quantity > 0 ? sum + product.price * quantity : sum;\n    }, 0);\n    setTotalPrice(total);\n  }, [products, quantities]);\n\n  // Calculate the height of the \"All Products\" tab content\n  useEffect(() => {\n    if (allProductsRef.current) {\n      const height = allProductsRef.current.offsetHeight;\n      setContentHeight(height); // Set the height for both tabs\n    }\n  }, [products, quantities]);\n\n  return (\n    <div className=\"bg-light mt-5 pt-5\">\n      <h1 className=\"text-center mb-4 bg-white p-2 text-warning abouttitle DancingScript\">\n        Order Now\n      </h1>\n      <NavBar />\n\n      {/* Tabs */}\n      <Tabs\n        activeKey={activeTab}\n        onSelect={(k) => setActiveTab(k)}\n        id=\"controlled-tab-example\"\n        className=\"justify-content-center custom-tabs\"\n      >\n        {/* \"All Products\" Tab */}\n        <Tab eventKey=\"All Products\" title=\"All Products\">\n          <div\n            ref={allProductsRef} // Attach the ref to capture height\n            className=\"tab-content-wrapper\"\n            style={{ minHeight: contentHeight ? `${contentHeight}px` : \"auto\" }} // Apply dynamic height\n          >\n            <Container fluid className=\"d-flex flex-column justify-content-start align-items-center mt-4\">\n              <CurrentOffers\n                quantities={quantities}\n                currentOffers={currentOffers}\n                handleQuantityChange={handleQuantityChange}\n              />\n\n              <Container fluid className=\"d-flex flex-column justify-content-start align-items-center mt-4\">\n                <Container className=\"py-3\" style={{ maxWidth: \"600px\", paddingBottom: \"0\" }}>\n                  <Row className=\"g-2 justify-content-center\">\n                    {products.slice(2).map((product) => (\n                      <Col key={product.id} xs={6} md={4} className=\"d-flex justify-content-center\">\n                        <ProductsCard\n                          product={product}\n                          handleQuantityChange={handleQuantityChange}\n                          quantity={quantities[product.id] || 0}\n                        />\n                      </Col>\n                    ))}\n                  </Row>\n                </Container>\n              </Container>\n            </Container>\n          </div>\n        </Tab>\n\n        {/* \"Current Offers\" Tab */}\n        <Tab eventKey=\"Current Offers\" title=\"Current Offers\">\n          <div\n            className=\"tab-content-wrapper\"\n            style={{ minHeight: contentHeight ? `${contentHeight}px` : \"auto\" }} // Apply the same dynamic height\n          >\n            <CurrentOffers\n              quantities={quantities}\n              currentOffers={currentOffers}\n              handleQuantityChange={handleQuantityChange}\n            />\n          </div>\n        </Tab>\n      </Tabs>\n\n      {/* Bottom Overlay for Total Price */}\n      {totalPrice > 0 && (\n        <div className=\"bottom-overlay\">\n          <span className=\"total-price\">Total: â‚¹{totalPrice.toFixed(2)}</span>\n          <Link to=\"/cart\">\n            <Button variant=\"success\" className=\"show-cart-button\">Show Cart</Button>\n          </Link>\n        </div>\n      )}\n\n      <ContactCard />\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CACjD,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,yBAAyB,CAChC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CACvC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,IAAIA,CAAAC,IAAA,CAA2D,IAA1D,CAAEC,QAAQ,CAAEC,UAAU,CAAEC,eAAe,CAAEC,aAAc,CAAC,CAAAJ,IAAA,CACnF,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAGxB,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAACyB,SAAS,CAAEC,YAAY,CAAC,CAAG1B,QAAQ,CAAC,cAAc,CAAC,CAC1D,KAAM,CAAC2B,aAAa,CAAEC,gBAAgB,CAAC,CAAG5B,QAAQ,CAAC,IAAI,CAAC,CAAE;AAC1D,KAAM,CAAA6B,cAAc,CAAG5B,MAAM,CAAC,IAAI,CAAC,CAAE;AAErC,KAAM,CAAA6B,oBAAoB,CAAGA,CAACC,SAAS,CAAEC,QAAQ,GAAK,CACpDX,eAAe,CAACU,SAAS,CAAEC,QAAQ,CAAC,CACtC,CAAC,CAED;AACAjC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkC,KAAK,CAAGd,QAAQ,CAACe,MAAM,CAAC,CAACC,GAAG,CAAEC,OAAO,GAAK,CAC9C,KAAM,CAAAJ,QAAQ,CAAGZ,UAAU,CAACgB,OAAO,CAACC,EAAE,CAAC,EAAI,CAAC,CAC5C,MAAO,CAAAL,QAAQ,CAAG,CAAC,CAAGG,GAAG,CAAGC,OAAO,CAACE,KAAK,CAAGN,QAAQ,CAAGG,GAAG,CAC5D,CAAC,CAAE,CAAC,CAAC,CACLX,aAAa,CAACS,KAAK,CAAC,CACtB,CAAC,CAAE,CAACd,QAAQ,CAAEC,UAAU,CAAC,CAAC,CAE1B;AACArB,SAAS,CAAC,IAAM,CACd,GAAI8B,cAAc,CAACU,OAAO,CAAE,CAC1B,KAAM,CAAAC,MAAM,CAAGX,cAAc,CAACU,OAAO,CAACE,YAAY,CAClDb,gBAAgB,CAACY,MAAM,CAAC,CAAE;AAC5B,CACF,CAAC,CAAE,CAACrB,QAAQ,CAAEC,UAAU,CAAC,CAAC,CAE1B,mBACEJ,KAAA,QAAK0B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC7B,IAAA,OAAI4B,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAAC,WAEpF,CAAI,CAAC,cACL7B,IAAA,CAACN,MAAM,GAAE,CAAC,cAGVQ,KAAA,CAACL,IAAI,EACHiC,SAAS,CAAEnB,SAAU,CACrBoB,QAAQ,CAAGC,CAAC,EAAKpB,YAAY,CAACoB,CAAC,CAAE,CACjCT,EAAE,CAAC,wBAAwB,CAC3BK,SAAS,CAAC,oCAAoC,CAAAC,QAAA,eAG9C7B,IAAA,CAACJ,GAAG,EAACqC,QAAQ,CAAC,cAAc,CAACC,KAAK,CAAC,cAAc,CAAAL,QAAA,cAC/C7B,IAAA,QACEmC,GAAG,CAAEpB,cAAgB;AAAA,CACrBa,SAAS,CAAC,qBAAqB,CAC/BQ,KAAK,CAAE,CAAEC,SAAS,CAAExB,aAAa,CAAG,GAAGA,aAAa,IAAI,CAAG,MAAO,CAAG;AAAA,CAAAgB,QAAA,cAErE3B,KAAA,CAACd,SAAS,EAACkD,KAAK,MAACV,SAAS,CAAC,kEAAkE,CAAAC,QAAA,eAC3F7B,IAAA,CAACF,aAAa,EACZQ,UAAU,CAAEA,UAAW,CACvBE,aAAa,CAAEA,aAAc,CAC7BQ,oBAAoB,CAAEA,oBAAqB,CAC5C,CAAC,cAEFhB,IAAA,CAACZ,SAAS,EAACkD,KAAK,MAACV,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAC3F7B,IAAA,CAACZ,SAAS,EAACwC,SAAS,CAAC,MAAM,CAACQ,KAAK,CAAE,CAAEG,QAAQ,CAAE,OAAO,CAAEC,aAAa,CAAE,GAAI,CAAE,CAAAX,QAAA,cAC3E7B,IAAA,CAACX,GAAG,EAACuC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACxCxB,QAAQ,CAACoC,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEpB,OAAO,eAC7BtB,IAAA,CAACV,GAAG,EAAkBqD,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAAChB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAC3E7B,IAAA,CAACP,YAAY,EACX6B,OAAO,CAAEA,OAAQ,CACjBN,oBAAoB,CAAEA,oBAAqB,CAC3CE,QAAQ,CAAEZ,UAAU,CAACgB,OAAO,CAACC,EAAE,CAAC,EAAI,CAAE,CACvC,CAAC,EALMD,OAAO,CAACC,EAMb,CACN,CAAC,CACC,CAAC,CACG,CAAC,CACH,CAAC,EACH,CAAC,CACT,CAAC,CACH,CAAC,cAGNvB,IAAA,CAACJ,GAAG,EAACqC,QAAQ,CAAC,gBAAgB,CAACC,KAAK,CAAC,gBAAgB,CAAAL,QAAA,cACnD7B,IAAA,QACE4B,SAAS,CAAC,qBAAqB,CAC/BQ,KAAK,CAAE,CAAEC,SAAS,CAAExB,aAAa,CAAG,GAAGA,aAAa,IAAI,CAAG,MAAO,CAAG;AAAA,CAAAgB,QAAA,cAErE7B,IAAA,CAACF,aAAa,EACZQ,UAAU,CAAEA,UAAW,CACvBE,aAAa,CAAEA,aAAc,CAC7BQ,oBAAoB,CAAEA,oBAAqB,CAC5C,CAAC,CACC,CAAC,CACH,CAAC,EACF,CAAC,CAGNP,UAAU,CAAG,CAAC,eACbP,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B3B,KAAA,SAAM0B,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,eAAQ,CAACpB,UAAU,CAACoC,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,cACpE7C,IAAA,CAACR,IAAI,EAACsD,EAAE,CAAC,OAAO,CAAAjB,QAAA,cACd7B,IAAA,CAACT,MAAM,EAACwD,OAAO,CAAC,SAAS,CAACnB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAC,WAAS,CAAQ,CAAC,CACrE,CAAC,EACJ,CACN,cAED7B,IAAA,CAACL,WAAW,GAAE,CAAC,EACZ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}