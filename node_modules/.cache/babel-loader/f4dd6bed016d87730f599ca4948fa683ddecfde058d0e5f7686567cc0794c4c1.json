{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import Button from\"react-bootstrap/Button\";import{Link}from\"react-router-dom\";import ProductsCard from\"./ProductsCard\";import\"./Stylings/Products.css\";import NavBar from\"./NavBar\";import CustomCarousel from\"./CustomCarousel\";import ContactCard from\"./ContactCard\";import Tab from\"react-bootstrap/Tab\";import Tabs from\"react-bootstrap/Tabs\";import CurrentOffers from\"./CurrentOffers\";import cartIcon from\"../Images/cart2.svg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Products(_ref){let{products,quantities,handleAddToCart,currentOffers}=_ref;const[totalPrice,setTotalPrice]=useState(0);const[activeTab,setActiveTab]=useState(\"All Products\");const[contentHeight,setContentHeight]=useState(null);// Store the dynamic height\nconst allProductsRef=useRef(null);// Reference to All Products tab content\nconst handleQuantityChange=(productId,quantity)=>{handleAddToCart(productId,quantity);};useEffect(()=>{const total=products.reduce((sum,product)=>{const quantity=quantities[product.id]||0;return quantity>0?sum+product.price*quantity:sum;},0);setTotalPrice(total);},[products,quantities]);// Calculate height dynamically after All Products tab renders\nuseEffect(()=>{if(allProductsRef.current){const height=allProductsRef.current.offsetHeight;setContentHeight(height);// Set the height for both tabs\n}},[products,quantities]);return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-light mt-4 pt-5\",children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(CustomCarousel,{}),/*#__PURE__*/_jsxs(Tabs,{activeKey:activeTab,onSelect:k=>setActiveTab(k),id:\"controlled-tab-example\",className:\"Poppins justify-content-center custom-tabs\",children:[/*#__PURE__*/_jsx(Tab,{eventKey:\"All Products\",title:\"All Products\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content-wrapper\",ref:allProductsRef// Attach ref to calculate height\n,style:{minHeight:contentHeight?`${contentHeight}px`:'auto'}// Apply dynamic height\n,children:[/*#__PURE__*/_jsx(CurrentOffers,{quantities:quantities,currentOffers:currentOffers,handleQuantityChange:handleQuantityChange}),/*#__PURE__*/_jsx(Container,{fluid:true,className:\"d-flex flex-column justify-content-start align-items-center mt-4\",children:/*#__PURE__*/_jsx(Container,{className:\"py-3\",style:{maxWidth:\"790px\",paddingBottom:\"0\"},children:/*#__PURE__*/_jsx(Row,{className:\"g-1\",children:products.slice(2).map(product=>/*#__PURE__*/_jsx(Col,{xs:6,md:4,className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(ProductsCard,{product:product,handleQuantityChange:handleQuantityChange,quantity:quantities[product.id]||0})},product.id))})})})]})}),/*#__PURE__*/_jsx(Tab,{eventKey:\"Current Offers\",title:\"Current Offers\",children:/*#__PURE__*/_jsx(\"div\",{className:\"tab-content-wrapper\",style:{minHeight:contentHeight?`${contentHeight}px`:'auto'}// Apply the same height\n,children:/*#__PURE__*/_jsx(CurrentOffers,{quantities:quantities,currentOffers:currentOffers,handleQuantityChange:handleQuantityChange})})})]}),totalPrice>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bottom-overlay\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"total-price\",children:[\"Total: \\u20B9\",totalPrice.toFixed(2)]}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsxs(Button,{variant:\"success\",className:\"show-cart-button\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"carticon\",src:cartIcon,alt:\"icon\"}),\"Show Cart\"]})})]}),/*#__PURE__*/_jsx(ContactCard,{})]});}","map":{"version":3,"names":["React","useEffect","useState","useRef","Container","Row","Col","Button","Link","ProductsCard","NavBar","CustomCarousel","ContactCard","Tab","Tabs","CurrentOffers","cartIcon","jsx","_jsx","jsxs","_jsxs","Products","_ref","products","quantities","handleAddToCart","currentOffers","totalPrice","setTotalPrice","activeTab","setActiveTab","contentHeight","setContentHeight","allProductsRef","handleQuantityChange","productId","quantity","total","reduce","sum","product","id","price","current","height","offsetHeight","className","children","activeKey","onSelect","k","eventKey","title","ref","style","minHeight","fluid","maxWidth","paddingBottom","slice","map","xs","md","toFixed","to","variant","src","alt"],"sources":["/workspaces/appampatt_mittai/src/Components/Products.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Button from \"react-bootstrap/Button\";\nimport { Link } from \"react-router-dom\";\nimport ProductsCard from \"./ProductsCard\";\nimport \"./Stylings/Products.css\";\nimport NavBar from \"./NavBar\";\nimport CustomCarousel from \"./CustomCarousel\";\nimport ContactCard from \"./ContactCard\";\nimport Tab from \"react-bootstrap/Tab\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport CurrentOffers from \"./CurrentOffers\";\nimport cartIcon from \"../Images/cart2.svg\";\n\nexport default function Products({\n  products,\n  quantities,\n  handleAddToCart,\n  currentOffers,\n}) {\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [activeTab, setActiveTab] = useState(\"All Products\");\n  const [contentHeight, setContentHeight] = useState(null); // Store the dynamic height\n  const allProductsRef = useRef(null); // Reference to All Products tab content\n\n  const handleQuantityChange = (productId, quantity) => {\n    handleAddToCart(productId, quantity);\n  };\n\n  useEffect(() => {\n    const total = products.reduce((sum, product) => {\n      const quantity = quantities[product.id] || 0;\n      return quantity > 0 ? sum + product.price * quantity : sum;\n    }, 0);\n    setTotalPrice(total);\n  }, [products, quantities]);\n\n  // Calculate height dynamically after All Products tab renders\n  useEffect(() => {\n    if (allProductsRef.current) {\n      const height = allProductsRef.current.offsetHeight;\n      setContentHeight(height); // Set the height for both tabs\n    }\n  }, [products, quantities]);\n\n  return (\n    <div className=\"bg-light mt-4 pt-5\">\n      <NavBar />\n      <CustomCarousel />\n\n      {/* Use `activeKey` and `onSelect` to control the tabs */}\n      <Tabs\n        activeKey={activeTab}\n        onSelect={(k) => setActiveTab(k)}\n        id=\"controlled-tab-example\"\n        className=\"Poppins justify-content-center custom-tabs\"\n      >\n        <Tab eventKey=\"All Products\" title=\"All Products\">\n          <div\n            className=\"tab-content-wrapper\"\n            ref={allProductsRef} // Attach ref to calculate height\n            style={{ minHeight: contentHeight ? `${contentHeight}px` : 'auto' }} // Apply dynamic height\n          >\n            <CurrentOffers\n              quantities={quantities}\n              currentOffers={currentOffers}\n              handleQuantityChange={handleQuantityChange}\n            />\n\n            <Container\n              fluid\n              className=\"d-flex flex-column justify-content-start align-items-center mt-4\"\n            >\n              <Container\n                className=\"py-3\"\n                style={{ maxWidth: \"790px\", paddingBottom: \"0\" }}\n              >\n                <Row className=\"g-1\">\n                  {products.slice(2).map((product) => (\n                    <Col\n                      key={product.id}\n                      xs={6}\n                      md={4}\n                      className=\"d-flex justify-content-center\"\n                    >\n                      <ProductsCard\n                        product={product}\n                        handleQuantityChange={handleQuantityChange}\n                        quantity={quantities[product.id] || 0}\n                      />\n                    </Col>\n                  ))}\n                </Row>\n              </Container>\n            </Container>\n          </div>\n        </Tab>\n        <Tab eventKey=\"Current Offers\" title=\"Current Offers\">\n          <div\n            className=\"tab-content-wrapper\"\n            style={{ minHeight: contentHeight ? `${contentHeight}px` : 'auto' }} // Apply the same height\n          >\n            <CurrentOffers\n              quantities={quantities}\n              currentOffers={currentOffers}\n              handleQuantityChange={handleQuantityChange}\n            />\n          </div>\n        </Tab>\n      </Tabs>\n\n      {totalPrice > 0 && (\n        <div className=\"bottom-overlay\">\n          <span className=\"total-price\">Total: â‚¹{totalPrice.toFixed(2)}</span>\n          <Link to=\"/cart\">\n            <Button variant=\"success\" className=\"show-cart-button\">\n              <img className=\"carticon\" src={cartIcon} alt=\"icon\" />\n              Show Cart\n            </Button>\n          </Link>\n        </div>\n      )}\n\n      <ContactCard />\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CACjD,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,yBAAyB,CAChC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CACvC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAK7B,IAL8B,CAC/BC,QAAQ,CACRC,UAAU,CACVC,eAAe,CACfC,aACF,CAAC,CAAAJ,IAAA,CACC,KAAM,CAACK,UAAU,CAAEC,aAAa,CAAC,CAAG1B,QAAQ,CAAC,CAAC,CAAC,CAC/C,KAAM,CAAC2B,SAAS,CAAEC,YAAY,CAAC,CAAG5B,QAAQ,CAAC,cAAc,CAAC,CAC1D,KAAM,CAAC6B,aAAa,CAAEC,gBAAgB,CAAC,CAAG9B,QAAQ,CAAC,IAAI,CAAC,CAAE;AAC1D,KAAM,CAAA+B,cAAc,CAAG9B,MAAM,CAAC,IAAI,CAAC,CAAE;AAErC,KAAM,CAAA+B,oBAAoB,CAAGA,CAACC,SAAS,CAAEC,QAAQ,GAAK,CACpDX,eAAe,CAACU,SAAS,CAAEC,QAAQ,CAAC,CACtC,CAAC,CAEDnC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoC,KAAK,CAAGd,QAAQ,CAACe,MAAM,CAAC,CAACC,GAAG,CAAEC,OAAO,GAAK,CAC9C,KAAM,CAAAJ,QAAQ,CAAGZ,UAAU,CAACgB,OAAO,CAACC,EAAE,CAAC,EAAI,CAAC,CAC5C,MAAO,CAAAL,QAAQ,CAAG,CAAC,CAAGG,GAAG,CAAGC,OAAO,CAACE,KAAK,CAAGN,QAAQ,CAAGG,GAAG,CAC5D,CAAC,CAAE,CAAC,CAAC,CACLX,aAAa,CAACS,KAAK,CAAC,CACtB,CAAC,CAAE,CAACd,QAAQ,CAAEC,UAAU,CAAC,CAAC,CAE1B;AACAvB,SAAS,CAAC,IAAM,CACd,GAAIgC,cAAc,CAACU,OAAO,CAAE,CAC1B,KAAM,CAAAC,MAAM,CAAGX,cAAc,CAACU,OAAO,CAACE,YAAY,CAClDb,gBAAgB,CAACY,MAAM,CAAC,CAAE;AAC5B,CACF,CAAC,CAAE,CAACrB,QAAQ,CAAEC,UAAU,CAAC,CAAC,CAE1B,mBACEJ,KAAA,QAAK0B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC7B,IAAA,CAACR,MAAM,GAAE,CAAC,cACVQ,IAAA,CAACP,cAAc,GAAE,CAAC,cAGlBS,KAAA,CAACN,IAAI,EACHkC,SAAS,CAAEnB,SAAU,CACrBoB,QAAQ,CAAGC,CAAC,EAAKpB,YAAY,CAACoB,CAAC,CAAE,CACjCT,EAAE,CAAC,wBAAwB,CAC3BK,SAAS,CAAC,4CAA4C,CAAAC,QAAA,eAEtD7B,IAAA,CAACL,GAAG,EAACsC,QAAQ,CAAC,cAAc,CAACC,KAAK,CAAC,cAAc,CAAAL,QAAA,cAC/C3B,KAAA,QACE0B,SAAS,CAAC,qBAAqB,CAC/BO,GAAG,CAAEpB,cAAgB;AAAA,CACrBqB,KAAK,CAAE,CAAEC,SAAS,CAAExB,aAAa,CAAG,GAAGA,aAAa,IAAI,CAAG,MAAO,CAAG;AAAA,CAAAgB,QAAA,eAErE7B,IAAA,CAACH,aAAa,EACZS,UAAU,CAAEA,UAAW,CACvBE,aAAa,CAAEA,aAAc,CAC7BQ,oBAAoB,CAAEA,oBAAqB,CAC5C,CAAC,cAEFhB,IAAA,CAACd,SAAS,EACRoD,KAAK,MACLV,SAAS,CAAC,kEAAkE,CAAAC,QAAA,cAE5E7B,IAAA,CAACd,SAAS,EACR0C,SAAS,CAAC,MAAM,CAChBQ,KAAK,CAAE,CAAEG,QAAQ,CAAE,OAAO,CAAEC,aAAa,CAAE,GAAI,CAAE,CAAAX,QAAA,cAEjD7B,IAAA,CAACb,GAAG,EAACyC,SAAS,CAAC,KAAK,CAAAC,QAAA,CACjBxB,QAAQ,CAACoC,KAAK,CAAC,CAAC,CAAC,CAACC,GAAG,CAAEpB,OAAO,eAC7BtB,IAAA,CAACZ,GAAG,EAEFuD,EAAE,CAAE,CAAE,CACNC,EAAE,CAAE,CAAE,CACNhB,SAAS,CAAC,+BAA+B,CAAAC,QAAA,cAEzC7B,IAAA,CAACT,YAAY,EACX+B,OAAO,CAAEA,OAAQ,CACjBN,oBAAoB,CAAEA,oBAAqB,CAC3CE,QAAQ,CAAEZ,UAAU,CAACgB,OAAO,CAACC,EAAE,CAAC,EAAI,CAAE,CACvC,CAAC,EATGD,OAAO,CAACC,EAUV,CACN,CAAC,CACC,CAAC,CACG,CAAC,CACH,CAAC,EACT,CAAC,CACH,CAAC,cACNvB,IAAA,CAACL,GAAG,EAACsC,QAAQ,CAAC,gBAAgB,CAACC,KAAK,CAAC,gBAAgB,CAAAL,QAAA,cACnD7B,IAAA,QACE4B,SAAS,CAAC,qBAAqB,CAC/BQ,KAAK,CAAE,CAAEC,SAAS,CAAExB,aAAa,CAAG,GAAGA,aAAa,IAAI,CAAG,MAAO,CAAG;AAAA,CAAAgB,QAAA,cAErE7B,IAAA,CAACH,aAAa,EACZS,UAAU,CAAEA,UAAW,CACvBE,aAAa,CAAEA,aAAc,CAC7BQ,oBAAoB,CAAEA,oBAAqB,CAC5C,CAAC,CACC,CAAC,CACH,CAAC,EACF,CAAC,CAENP,UAAU,CAAG,CAAC,eACbP,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B3B,KAAA,SAAM0B,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,eAAQ,CAACpB,UAAU,CAACoC,OAAO,CAAC,CAAC,CAAC,EAAO,CAAC,cACpE7C,IAAA,CAACV,IAAI,EAACwD,EAAE,CAAC,OAAO,CAAAjB,QAAA,cACd3B,KAAA,CAACb,MAAM,EAAC0D,OAAO,CAAC,SAAS,CAACnB,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACpD7B,IAAA,QAAK4B,SAAS,CAAC,UAAU,CAACoB,GAAG,CAAElD,QAAS,CAACmD,GAAG,CAAC,MAAM,CAAE,CAAC,YAExD,EAAQ,CAAC,CACL,CAAC,EACJ,CACN,cAEDjD,IAAA,CAACN,WAAW,GAAE,CAAC,EACZ,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}